{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/tips/2021-07-11-how-to-use-pre-commit-hook-vol1","result":{"data":{"markdownRemark":{"id":"db882ed5-c523-5760-8753-7d91675ccd1c","html":"<p>이 글은 pre-commit hook 을 사용하고 전파하기 위해 작성한 시리즈 글입니다.</p>\n<h2 id=\"설치-및-설정하기\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"설치 및 설정하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설치 및 설정하기</h2>\n<ol>\n<li>작업 환경에 맞게 <a href=\"https://pre-commit.com/#installation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">pre-commit hook을 설치한다</a></li>\n<li>pre-commit 환경을 추가한다. 우선은 제대로 따라해보기 위해 예시만 간략히 써보자.</li>\n</ol>\n<ul>\n<li>추가할 수 있는 훅의 종류는 <a href=\"https://pre-commit.com/hooks.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">여기</a>를 참조한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">repos</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//github.com/pre<span class=\"token punctuation\">-</span>commit/pre<span class=\"token punctuation\">-</span>commit<span class=\"token punctuation\">-</span>hooks\n    <span class=\"token key atrule\">rev</span><span class=\"token punctuation\">:</span> v2.3.0\n    <span class=\"token key atrule\">hooks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> check<span class=\"token punctuation\">-</span>yaml\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> end<span class=\"token punctuation\">-</span>of<span class=\"token punctuation\">-</span>file<span class=\"token punctuation\">-</span>fixer\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> trailing<span class=\"token punctuation\">-</span>whitespace\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//github.com/psf/black\n    <span class=\"token key atrule\">rev</span><span class=\"token punctuation\">:</span> 19.3b0\n    <span class=\"token key atrule\">hooks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> black</code></pre></div>\n<ol start=\"3\">\n<li>브랜치에 깃 훅 스크립트를 설치한다\n<ul>\n<li><code class=\"language-text\">pre-commit install</code></li>\n</ul>\n</li>\n<li>수동으로 돌려본다\n<ul>\n<li><code class=\"language-text\">pre-commit run --all-files</code></li>\n</ul>\n</li>\n<li>앞으로 매 커밋마다 <code class=\"language-text\">pre-commit</code> 훅이 걸릴 것임. <del>똥같은</del> 구린 코드를 커밋하면 아래와 같은 수정내역이 뜬다!</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">오후 1<span class=\"token punctuation\">:</span>54\tCommit failed with error\n        0 file committed<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">5 files failed to commit</span><span class=\"token punctuation\">:</span> <span class=\"token key atrule\">feat</span><span class=\"token punctuation\">:</span> pre<span class=\"token punctuation\">-</span>commit hook 추가\n        Check Yaml<span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.(no files to check)Skipped\n        Fix End of Files<span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>Passed\n        Trim Trailing Whitespace<span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.Passed\n        black<span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>..Failed\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">hook id</span><span class=\"token punctuation\">:</span> black\n        <span class=\"token punctuation\">-</span> files were modified by this hook\n\n        reformatted /home/l4in/garage.object/01_객체<span class=\"token punctuation\">,</span>설계/01_대충설계한코드/audience.py\n        reformatted /home/l4in/garage.object/01_객체<span class=\"token punctuation\">,</span>설계/01_대충설계한코드/bag.py\n        All done<span class=\"token tag\">!</span> ✨ 🍰 ✨\n        2 files reformatted<span class=\"token punctuation\">,</span> 3 files left unchanged.\n\n        mypy<span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>Failed\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">hook id</span><span class=\"token punctuation\">:</span> mypy\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">exit code</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n\n        01_대충설계한코드 is not a valid Python package name</code></pre></div>\n<h2 id=\"제거하기\" style=\"position:relative;\"><a href=\"#%EC%A0%9C%EA%B1%B0%ED%95%98%EA%B8%B0\" aria-label=\"제거하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>제거하기</h2>\n<ul>\n<li>pre-commit 훅 삭제는 <a href=\"https://pre-commit.com/#pre-commit-uninstall\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">다음 링크를 참고</a>한다</li>\n</ul>\n<h2 id=\"차후-해볼것\" style=\"position:relative;\"><a href=\"#%EC%B0%A8%ED%9B%84-%ED%95%B4%EB%B3%BC%EA%B2%83\" aria-label=\"차후 해볼것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>차후 해볼것</h2>\n<ul>\n<li><a href=\"https://pre-commit.com/#usage-in-continuous-integration\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CI 연동</a></li>\n<li>더 없나 찾아보자</li>\n</ul>","fields":{"slug":"/tips/2021-07-11---how-to-use-pre-commit-hook-vol1//tips/2021-07-11-how-to-use-pre-commit-hook-vol1","tagSlugs":["/tag/pre-commit/"]},"frontmatter":{"date":"2021-06-03T09:00:00.000Z","description":"pre-commit hook 말만 들었지 실제로 써보지 못했는데, 이참에 써보고 팀원들에게 공유하기 위해 글을 씁니다. 제 1탄입니다.","tags":["pre_commit"],"title":"pre-commit hook, 나도 한번 써보자 (1)","socialImage":{"publicURL":"/static/4644b783d0f0d4821bbffead009ea763/pangyo_01.jpg"}}}},"pageContext":{"slug":"/tips/2021-07-11---how-to-use-pre-commit-hook-vol1//tips/2021-07-11-how-to-use-pre-commit-hook-vol1"}},"staticQueryHashes":["251939775","357378587","401334301"]}