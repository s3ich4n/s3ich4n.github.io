{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/tips/2022-10-10-why-should-i-put-eol-at-the-end-of-file","result":{"data":{"markdownRemark":{"id":"13ed0e2e-5c69-50c4-91bd-ee42ba3857ef","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 381px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/21519913a8bf7c5b79a5ae0bc583dedc/2add2/01_no_newline.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVQoz43PXYvTQBjF8XwyRXFZV+vnEMRP4603IhQK7oUICl64N4IoKCxu39xum9Ymk0kymUya1zZJ/7JxVRZEPMOPc/NwYCzbtvGlxHEchPCQvsKVEa5UODJi6YYITyI9D9d1ubiY46zXSCm7+/V6zdK2cYXAGIOltaYsim708iAyGb7ZsfRzHFXi6S2B0iTGdCPz+QLhugRhSBwbhBDYiwWelFymG/x3Wv43TdNgBX6A3mjsyUfiUBEbg3AFSkUEQUieF6Rp+ldZlpHn+e8uiuLnYLyJ+T77QhJpTGK6L0VRhO/7VGVF27ad5qp/qeuaosivsbwgROc1cQkq26HSLaZsiJKctNqhTMrp2YjTryNGk3OG428MJ+ecjafMFis25Y5N8YcVOoKtG5KtBOXap3QCKhGyEQF1mPD5/ScObh9weOeQ3v0HHN29R++ox60bN3n88BFVlNAkGTuTUpsUy/VsAjNBqBEyGnf8eErgL1CrGdPpkP5xnxevB/QHT3n+7Amv3r3k+M2Akw9v2eSyk1y15WkfRUyI7gT7iHCvMVuDyTWmSsnbkootZZvSUtCy715NQ7rPrvkBSgiY+vcsdcMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/21519913a8bf7c5b79a5ae0bc583dedc/8ac56/01_no_newline.webp 240w,\n/static/21519913a8bf7c5b79a5ae0bc583dedc/25250/01_no_newline.webp 381w\"\n              sizes=\"(max-width: 381px) 100vw, 381px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/21519913a8bf7c5b79a5ae0bc583dedc/8ff5a/01_no_newline.png 240w,\n/static/21519913a8bf7c5b79a5ae0bc583dedc/2add2/01_no_newline.png 381w\"\n            sizes=\"(max-width: 381px) 100vw, 381px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/21519913a8bf7c5b79a5ae0bc583dedc/2add2/01_no_newline.png\"\n            alt=\"으아ㅏㅏ 개행\"\n            title=\"으아ㅏㅏ 개행\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>으아ㅏㅏ 개행</p></figcaption>\n  </figure></p>\n<p>코드리뷰 시 왜 GitHub이 파일 끝에 엔터를 치도록 요구하는지 궁금했습니다. 이참에 Git을 쓰며 개행문자 문제를 해결하는 방안이 떠올라 함께 썼습니다. 왜냐하면 엔터는 개행문자를 텍스트파일에 쓰는 것이니까요(?)</p>\n<h1 id=\"tldr\" style=\"position:relative;\"><a href=\"#tldr\" aria-label=\"tldr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TL;DR</h1>\n<ol>\n<li>POSIX 에서 하나의 행을 정의하는 표준을 지킵시다.</li>\n<li>개행에 대해 잘 이해하고 있으면, 타 운영체제에서 Git을 이용할 때 개행문자 차이로부터 일어나는 사이드이펙트를 방지할 수 있습니다.</li>\n</ol>\n<h1 id=\"posix-표준을-준수합시다\" style=\"position:relative;\"><a href=\"#posix-%ED%91%9C%EC%A4%80%EC%9D%84-%EC%A4%80%EC%88%98%ED%95%A9%EC%8B%9C%EB%8B%A4\" aria-label=\"posix 표준을 준수합시다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>POSIX 표준을 준수합시다</h1>\n<p>필요한 부분들을 살펴보기 위해, 논의에 연관이 없다고 판단되는 부분은 생략하려 합니다.</p>\n<p>먼저, 코드가 쓰여지는 텍스트 파일의 정의를 먼저 살펴봅시다.</p>\n<p><a href=\"https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_403\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">3.403 Text File</a></p>\n<blockquote>\n<p>A file that contains characters organized into zero or more lines. (중략)</p>\n</blockquote>\n<p>모든 텍스트 파일에서 줄(Line)은 개행문자(newline)를 기준으로 만들어 집니다.</p>\n<p><a href=\"https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_206\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">3.206 Line</a></p>\n<blockquote>\n<p>A sequence of zero or more non- <newline> characters plus a terminating <newline> character. (중략)</p>\n</blockquote>\n<p>끝나지 않은 줄(Incomplete Line)은 파일 끝에 non-newline 문자가 하나 이상 있는 것을 의미합니다</p>\n<p><a href=\"https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_195\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">3.195 Incomplete Line</a></p>\n<blockquote>\n<p>A sequence of one or more non- <newline> characters at the end of the file. (중략)</p>\n</blockquote>\n<p>다시말해, 파일 끝에 newline 문자가 없으면 끝나지 않은 행으로 한다는 것입니다.</p>\n<h2 id=\"git에서-개행-문자new-line차이의-문제를-미연에-방지할-수-있어요\" style=\"position:relative;\"><a href=\"#git%EC%97%90%EC%84%9C-%EA%B0%9C%ED%96%89-%EB%AC%B8%EC%9E%90new-line%EC%B0%A8%EC%9D%B4%EC%9D%98-%EB%AC%B8%EC%A0%9C%EB%A5%BC-%EB%AF%B8%EC%97%B0%EC%97%90-%EB%B0%A9%EC%A7%80%ED%95%A0-%EC%88%98-%EC%9E%88%EC%96%B4%EC%9A%94\" aria-label=\"git에서 개행 문자new line차이의 문제를 미연에 방지할 수 있어요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Git에서 개행 문자(New line)차이의 문제를 미연에 방지할 수 있어요</h2>\n<p>Git을 사용할 때, 윈도우즈에서 수정한 코드를 가져오면 <code class=\"language-text\">^M</code> 문자열이 온 코드 끝에 다 붙어있는 경우를 간혹 보게됩니다. 이는 개행문자의 차이로 인해 발생하는 문제입니다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 168px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1bfee06304876faf876ef53c5bbadf3f/f697d/02_crlf_lf.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.952380952380956%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHm5Kygf//EABkQAAMAAwAAAAAAAAAAAAAAAAABAhAREv/aAAgBAQABBQI0OWs9Uf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAAQASEx/9oACAEBAAY/Alb2T//EABoQAAIDAQEAAAAAAAAAAAAAAAERACFRYRD/2gAIAQEAAT8hXB4MhDYYjOxnZUqh2f/aAAwDAQACAAMAAAAQN/8A/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Qp//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/EKf/xAAcEAACAgMBAQAAAAAAAAAAAAAAARExIWGRQcH/2gAIAQEAAT8QSwlch+qFYlE65Tpm903OmBhEJSwr+n//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1bfee06304876faf876ef53c5bbadf3f/311a7/02_crlf_lf.webp 168w\"\n              sizes=\"(max-width: 168px) 100vw, 168px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1bfee06304876faf876ef53c5bbadf3f/f697d/02_crlf_lf.jpg 168w\"\n            sizes=\"(max-width: 168px) 100vw, 168px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1bfee06304876faf876ef53c5bbadf3f/f697d/02_crlf_lf.jpg\"\n            alt=\"??: 이거 고치려면 또 dos2unix 깔아야해? 으..\"\n            title=\"??: 이거 고치려면 또 dos2unix 깔아야해? 으..\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>??: 이거 고치려면 또 dos2unix 깔아야해? 으..</p></figcaption>\n  </figure></p>\n<p>윈도우즈는 CRLF 방식의 개행을, GNU/Linux나 macOS에서는 LF를 개행으로 사용합니다. 엔터키를 눌렀을 때, 파일에 새 줄을 어떻게 기록할 것인지를 구별하는 바이너리 값이 다르게 붙음을 의미합니다.</p>\n<p>Git에서는 이를 방지할 수 있도록 설정을 부여해줄 수 있습니다. 여러 방법이 있습니다만 이 글에서 소개할 방법은 리포지토리에 <code class=\"language-text\">.gitattributes</code> 파일을 추가하는 방안입니다.</p>\n<blockquote>\n<p><code class=\"language-text\">git config --global core.autocrlf [true|false|input]</code> 명령을 통해 개인 PC에 설정을 넣어두는 것으로 해결할 수 있습니다. 하지만 저는 프로젝트 전체에 <code class=\"language-text\">.gitattributes</code> 파일 추가를 통해 모든 사람과 논의하는 것이 좋다고 생각합니다. 이유는 아래와 같습니다:</p>\n<p>첫째, 모든 이에게 이런 문제가 일어날 수 있음을 제고할 수 있습니다.</p>\n<p>둘째, 해결책을 제시하고 보다 나은 사항을 알아볼 수 있게끔 방향을 잡을 수 있습니다.</p>\n</blockquote>\n<h3 id=\"gitattributes\" style=\"position:relative;\"><a href=\"#gitattributes\" aria-label=\"gitattributes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">.gitattributes</code></h3>\n<p>이 파일은 프로젝트에 Git 설정을 동일하게 하여 혼동을 없앨 때 사용합니다. 그 중, EOL 과 관련한 옵션을 살펴봅시다.</p>\n<ol>\n<li><code class=\"language-text\">text=auto</code> 옵션</li>\n</ol>\n<p>이 설정은 EOL normalization에 대한 설정입니다. <code class=\"language-text\">text=auto</code> 을 주면 모든 텍스트 파일의 EOL이 LF로 normalize됩니다. 하지만 현재 워킹 트리의 텍스트 파일은 CRLF 그대로입니다. 바이너리(이미지, 폰트 등)들의 EOF는 변경되지 않습니다(참조링크를 확인해보세요).</p>\n<p>아래 설정은 <a href=\"https://github.com/alexkaratarakis/gitattributes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">이 리포지토리</a>에서 가져왔습니다(이런 게 있군요!).</p>\n<div class=\"gatsby-highlight\" data-language=\"git\"><pre class=\"language-git\"><code class=\"language-git\"><span class=\"token comment\"># THIS IS ONLY FOR THE gitattributes REPOSITORY.</span>\r\n<span class=\"token comment\"># Handle line endings automatically for files detected as text</span>\r\n<span class=\"token comment\"># and leave all files detected as binary untouched.</span>\r\n*               text=auto</code></pre></div>\n<ol start=\"2\">\n<li>파일 일괄적용</li>\n</ol>\n<ul>\n<li>git 2.16 버전(2018년 2월 22일 릴리즈)부터 현 브랜치 내의 모든 파일들에 대해 renormalize 할 수 있습니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token parameter variable\">--renormalize</span> <span class=\"token builtin class-name\">.</span>             <span class=\"token comment\"># normalize 수행</span>\r\n\r\n<span class=\"token function\">git</span> status                          <span class=\"token comment\"># 변경된 상태확인</span>\r\n\r\n<span class=\"token function\">git</span> ls-files <span class=\"token parameter variable\">--eol</span>                  <span class=\"token comment\"># 파일의 EOL을 살펴봅시다.</span>\r\n<span class=\"token function\">git</span> ls-files path/to/file <span class=\"token parameter variable\">--eol</span>     <span class=\"token comment\"># 특정 파일의 EOL을 살펴봅시다.</span></code></pre></div>\n<p>git 버전이 그보다 아래라면, <code class=\"language-text\">find</code>와 <code class=\"language-text\">sed</code>를 적절히 이용하거나, <code class=\"language-text\">dos2unix</code> 같은 바이너리를 이용하여 수동으로 개행 바이너리값을 바꾸어 커밋하면 되겠죠.</p>\n<h1 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h1>\n<p>파일에 EOL을 균일하게 넣고, 모든 구성원들에게 동일한 설정을 부여하는 것으로 일어나는 문제를 해결할 수 있었습니다.</p>\n<hr>\n<ul>\n<li>참고링크\n<ul>\n<li><a href=\"https://git-scm.com/docs/gitattributes#_text\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">.gitattributes</code>의 text 옵션</a></li>\n<li><a href=\"https://git-scm.com/docs/gitattributes#Documentation/gitattributes.txt-Settostringvalueauto\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">text=auto</code>의 의미</a></li>\n<li><a href=\"https://www.aleksandrhovhannisyan.com/blog/crlf-vs-lf-normalizing-line-endings-in-git/#all-line-ending-transformations-concern-the-index\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CRLF vs. LF: Normalizing Line Endings in Git</a></li>\n<li><a href=\"https://velog.io/@jangws/EOL%EC%9D%84-%EB%84%A3%EC%96%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0%EC%99%80-git%EC%97%90%EC%84%9C-CRLF-EOL-%EC%B0%A8%EC%9D%B4%EB%A1%9C-%EC%9D%B8%ED%95%9C-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">EOL을 넣어야 하는 이유와 운영체제별 EOL(EndOfLine) 차이로 인한 Git 문제 해결</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/tips/2022-10-10---why-should-i-put-eol-at-the-end-of-file//tips/2022-10-10-why-should-i-put-eol-at-the-end-of-file","tagSlugs":["/tag/git/","/tag/cowork/"]},"frontmatter":{"date":"2022-10-10T19:30:00.000Z","description":"EOL을 왜 입력해야 하는지 알아보며, 개행문자에 대해 발생한 문제가 함께 떠올라 적절한 해결책을 알아보고자 조사하게 되었습니다.","tags":["git","cowork"],"title":"제발 한국인이라면 파일 끝에 엔터 칩시다","socialImage":{"publicURL":{"publicURL":"/static/98add6ce99d4e33189fb97b2a5ddbc67/sarang-bang.jpg"}}}}},"pageContext":{"slug":"/tips/2022-10-10---why-should-i-put-eol-at-the-end-of-file//tips/2022-10-10-why-should-i-put-eol-at-the-end-of-file"}},"staticQueryHashes":["251939775","357378587","401334301"]}