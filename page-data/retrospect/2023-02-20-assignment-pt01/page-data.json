{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/retrospect/2023-02-20-assignment-pt01","result":{"data":{"markdownRemark":{"id":"1e4ed105-9d64-53d7-9f3a-c4ec7f039c0c","html":"<h1 id=\"연재-안내\" style=\"position:relative;\"><a href=\"#%EC%97%B0%EC%9E%AC-%EC%95%88%EB%82%B4\" aria-label=\"연재 안내 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>연재 안내</h1>\n<ul>\n<li>2023년 과제형 코딩 테스트 후기 (1)</li>\n<li><a href=\"/retrospect/2023-02-20-assignment-pt02\">2023년 과제형 코딩 테스트 후기 (2)</a></li>\n</ul>\n<h1 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h1>\n<p>이 게시글은 최근 치렀던 코딩 테스트를 회고하는 게시글입니다. 떨어졌지만, 정말 많은 것을 얻었습니다.</p>\n<p>이 게시글에서는 아래 내용을 담습니다.</p>\n<ul>\n<li>그간 궁금했던 모든 지식들이 어떻게 쓰이는지 깨달은 느낌</li>\n<li>공부해온 부분을 다시 되돌아보게 되는 소중한 경험</li>\n</ul>\n<h1 id=\"목차\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%EC%B0%A8\" aria-label=\"목차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>목차</h1>\n<ul>\n<li><a href=\"#%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-hexagonal-architecture\">클린 아키텍처, Hexagonal Architecture</a></li>\n<li><a href=\"#%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B5%AC%EC%83%81-%EB%B0%8F-%EA%B5%AC%EC%A1%B0-%EC%8C%93%EC%95%84%EC%98%AC%EB%A6%AC%EA%B8%B0\">도메인 구상 및 구조 쌓아올리기</a></li>\n<li><a href=\"#TDD%EC%99%80-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%94%BC%EB%9D%BC%EB%AF%B8%EB%93%9C\">TDD와 테스트 피라미드</a></li>\n<li><a href=\"#%EC%BD%94%EB%93%9C-%EC%99%84%EC%84%B1%EA%B3%BC%EC%A0%95\">코드 완성과정</a></li>\n<li><a href=\"#%EA%B5%AC%EC%B2%B4%EC%A0%81%EC%9D%B8-%EC%8A%A4%ED%8E%99-%EA%B2%B0%EC%A0%95%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%99%84%EC%84%B1\">구체적인 스펙 결정을 통한 완성</a></li>\n<li><a href=\"#%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B0%9C%EB%B0%9C%EC%97%90-%EC%82%AC%EC%9A%A9%EB%90%9C-%EB%8F%84%EA%B5%AC%EB%93%A4\">설계 및 개발에 사용된 도구들</a></li>\n</ul>\n<h1 id=\"클린-아키텍처-hexagonal-architecture\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%A6%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-hexagonal-architecture\" aria-label=\"클린 아키텍처 hexagonal architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클린 아키텍처, Hexagonal Architecture</h1>\n<p>먼저 이 글은 과제형 테스트를 수행한 소개를 위주로 말씀드리고자 합니다(사실 DDD나 클린 아키텍처 등을 하나의 게시글로 요약하기도 힘들겠죠). 보다 상세한 내용은 연재글로 다시 기록하겠습니다. <sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup> <sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup></p>\n<p>본 과제를 수행하며 이름으로만 듣던 DDD(Domain-driven Design)를 접하게 되었습니다. DDD는 Eric Evans가 제시한 개념입니다. 소프트웨어 설계를 회사(혹은 단체)와 연관있는 일련의 요구사항(비즈니스)을 표현하기 위한 “도메인”이란 단어로 묶어 설계하는 소프트웨어 설계 기법입니다. 도메인은 “(지식·활동의) 영역[분야], (책임의) 범위” 를 의미하지요. 즉, 개발하고자 하는 일련의 아키텍처를 도메인 간의 상호작용으로 이해하고 풀어나가는 방식입니다. 이를 적용하기 위해 자연스럽게 객체지향 패러다임으로 접근하게 되었습니다.</p>\n<p>저는 과제에 필요한 도메인을 설계하고, 이를 그림으로 묶었습니다. 이후 설계방법에 대한 방향성을 잡고, 클린 아키텍처와 Hexagonal Architecture(aka. Ports and Adapters Architecture, 이하 헥사고널 아키텍처) 를 참고하였습니다. 그 키워드를 토대로 프로젝트를 구성하였습니다. <sup id=\"fnref-3\"><a href=\"#fn-3\" class=\"footnote-ref\">3</a></sup></p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aD3zDFzcF5Y2_27dvU213Q.png\" alt=\"이제야 어렴풋이 이해가 가는 육각형입니다\"></p>\n<p>본 과제를 수행하며 참고한 프로젝트 5개를 소개드리고자 합니다. 모두 파이썬으로 구성되어 있습니다. 추후 DDD 및 클린아키텍처, 나아가 헥사고널 아키텍처를 연재하며 해당 프로젝트를 다시 살펴보도록 하겠습니다.</p>\n<ul>\n<li>프로젝트를 한번에 소화하긴 어렵지만 정말 도움되는 리포지토리\n<ul>\n<li><a href=\"https://github.com/pgorecki/python-ddd\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/pgorecki/python-ddd</a></li>\n</ul>\n</li>\n<li>실질적인 구현에 도움되었던 리포지토리\n<ul>\n<li><a href=\"https://github.com/GArmane/python-fastapi-hex-todo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/GArmane/python-fastapi-hex-todo</a></li>\n<li><a href=\"https://github.com/iktakahiro/dddpy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/iktakahiro/dddpy</a></li>\n<li><a href=\"https://github.com/slimovich/Realworld-fastapi-gino-template\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/slimovich/Realworld-fastapi-gino-template</a></li>\n<li><a href=\"https://github.com/fkromer/code/tree/appendix_fastapi\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/fkromer/code/tree/appendix_fastapi 접근 후 <code class=\"language-text\">appendix_fastapi</code> 브랜치를 참고</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"도메인-구상-및-구조-쌓아올리기\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B5%AC%EC%83%81-%EB%B0%8F-%EA%B5%AC%EC%A1%B0-%EC%8C%93%EC%95%84%EC%98%AC%EB%A6%AC%EA%B8%B0\" aria-label=\"도메인 구상 및 구조 쌓아올리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도메인 구상 및 구조 쌓아올리기</h1>\n<p>과제 전반을 보고, 도메인이 어떻게 흘러갈지를 결정해야겠지요. 저는 우선 도메인이 어떻게 흐르는지에 먼저 집중했습니다. <sup id=\"fnref-4\"><a href=\"#fn-4\" class=\"footnote-ref\">4</a></sup> 아래와 같은 도표를 통해 전체 프로젝트가 어떻게 구상될지 이해하였습니다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 473px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a49d027e7b75350e20b5ab9fcdae33f3/c7c3c/01_domain.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 89.58333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTklEQVQ4y4VU63qqMBD0XU6V+yUhIURAAUVF2/5oz/u/ypxvl0oL+p3+CMjuOpnszGbl+jl+W46n4YUF3MjAi+wUe1a7+h/I9NtV2Pg5EqngxxprR001S+DVM4CfMVp+aFA1N0ht0PY3GNvjZSOf1q9+go0A43vjjixSueN1Hj6h7RFCNVC6RSprbFw9bXrHeGDoBcQoRxRbqLxFIkpItftimkPICo6nkIiK42O9QRgX3wxpESMqKusO3fGC9nDlwvPwivYwIIgKqLzk73p/4vrL8Ib+fMNwfcehv3HsKcMgMkhlhT9rAaV3DOz4mnNhbKDyBmsng+srZJzPmfV05GUPqeHGHtEc3hGmFfzQTjliEUQWTfeKSNaI5Q6Oq+eiPNiEfBcYmLKD0AZOYCaRaBG7bX2BLkoESQ6H41+iLL30bRWLWFqUuwan61/4YcGg99q1q5CqHKEwI+Cjyt8sWZzqjNPwATc0sOWZbSKyPVx/ZOsFBee8qJidcDV6LoPnj/KTVcLYQmQ1A79sBISsWShSWpsxT0f0FtPCPaQGb6sO+7bH7e2DE/v2hP78yn0s6wOO/cD22FYNx2nTtrugOw6TulMP6eGHGnFqIVWNjZOxFYgR5ehNdknEFqnYwgsU4rRkg1P8DrQ4suKmn4ZPtkEi6tkFQCNGbCkfJBUzHIdhbrcfooyJrNgjyTRcuqpml4VmMaTZI04lQlHP+jZjeP8D7ZBkW0ilHgCZgW8QSTp2Ci8uFxsurq9p7MgCseHLdOnNMW/hRjm8r8l5BvgPN+A1dwgcnxkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a49d027e7b75350e20b5ab9fcdae33f3/8ac56/01_domain.webp 240w,\n/static/a49d027e7b75350e20b5ab9fcdae33f3/7124e/01_domain.webp 473w\"\n              sizes=\"(max-width: 473px) 100vw, 473px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a49d027e7b75350e20b5ab9fcdae33f3/8ff5a/01_domain.png 240w,\n/static/a49d027e7b75350e20b5ab9fcdae33f3/c7c3c/01_domain.png 473w\"\n            sizes=\"(max-width: 473px) 100vw, 473px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a49d027e7b75350e20b5ab9fcdae33f3/c7c3c/01_domain.png\"\n            alt=\"이런 식으로 도메인을 기본 흐름을 정리해 보았습니다.\"\n            title=\"이런 식으로 도메인을 기본 흐름을 정리해 보았습니다.\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>이런 식으로 도메인을 기본 흐름을 정리해 보았습니다.</p></figcaption>\n  </figure></p>\n<p>여기까지 정리하고 코드를 쌓는 사항이 가장 오래 걸렸습니다. 정말 오랜만에 학습과 설계를 동시에 하다보니, 노트로 적어가며 필수개념들을 해제했었네요.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f7ec5fef710ac54da2d6134e66147dc5/93719/02_work_in_progress.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAEXx0hFBTf/xAAaEAADAAMBAAAAAAAAAAAAAAABAgMABBES/9oACAEBAAEFApx6J6qozDyZ0HWqFBuDn//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AVf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAERIRIxkaH/2gAIAQEABj8Ctk5vhBCLN+H/xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhYf/aAAgBAQABPyEbzpigRk7hVZYTuBXL5nKhz//aAAwDAQACAAMAAAAQvz//xAAWEQEBAQAAAAAAAAAAAAAAAAAAAUH/2gAIAQMBAT8Q1D//xAAYEQACAwAAAAAAAAAAAAAAAAAAARFBUf/aAAgBAgEBPxCoHg//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhMVH/2gAIAQEAAT8QGsDcCwckZIGHfV9H6Z87FCJwy1HYNPTePRBrzf/Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f7ec5fef710ac54da2d6134e66147dc5/8ac56/02_work_in_progress.webp 240w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/d3be9/02_work_in_progress.webp 480w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/e46b2/02_work_in_progress.webp 960w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/f992d/02_work_in_progress.webp 1440w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/882b9/02_work_in_progress.webp 1920w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/c67aa/02_work_in_progress.webp 4000w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f7ec5fef710ac54da2d6134e66147dc5/09b79/02_work_in_progress.jpg 240w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/7cc5e/02_work_in_progress.jpg 480w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/6a068/02_work_in_progress.jpg 960w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/644c5/02_work_in_progress.jpg 1440w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/0f98f/02_work_in_progress.jpg 1920w,\n/static/f7ec5fef710ac54da2d6134e66147dc5/93719/02_work_in_progress.jpg 4000w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f7ec5fef710ac54da2d6134e66147dc5/6a068/02_work_in_progress.jpg\"\n            alt=\"이를 준비하며 작성한 종이는 이정도로 양이 늘었습니다.\"\n            title=\"이를 준비하며 작성한 종이는 이정도로 양이 늘었습니다.\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>이를 준비하며 작성한 종이는 이정도로 양이 늘었습니다.</p></figcaption>\n  </figure></p>\n<h1 id=\"tdd와-테스트-피라미드\" style=\"position:relative;\"><a href=\"#tdd%EC%99%80-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%94%BC%EB%9D%BC%EB%AF%B8%EB%93%9C\" aria-label=\"tdd와 테스트 피라미드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TDD와 테스트 피라미드</h1>\n<p><a href=\"/books/clean-code/2023-02-10-pt09#first\">FIRST 원칙</a>에 맞게 내 로직을 방어할 수 있는 코드가 있다면 그것만큼 든든한게 없죠. 클린 아키텍처, 헥사고널 아키텍처에서도 마찬가지입니다. 각 레이어별로 필요한 테스트는 반드시 존재해야 한다고 생각했고, 이에 따라 디렉토리를 구성하였습니다. 각각 도메인 레이어 테스트, 인프라스트럭처 레이어 테스트, 서비스 레이어 테스트, e2e 테스트로 나누었고 공통 코드를 <code class=\"language-text\">util</code> 디렉토리로 빼서 이 쪽을 바라보도록 했습니다.</p>\n<p>본 과제에서는 아래와 같은 디렉토리 구조로 구상하였습니다:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.\n└── tests\n    ├── modules\n    │   ├── DOMAIN01\n    │   │   ├── domain\n    │   │   └── e2e\n    │   ├── DOMAIN02\n    │   │   ├── domain\n    │   │   ├── e2e\n    │   │   ├── factories\n    │   │   ├── infrastructure\n    │   │   └── service\n    │   └── DOMAIN03\n    │       ├── domain\n    │       ├── e2e\n    │       └── factories\n    └── utils</code></pre></div>\n<h1 id=\"코드-완성과정\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EC%99%84%EC%84%B1%EA%B3%BC%EC%A0%95\" aria-label=\"코드 완성과정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드 완성과정</h1>\n<ol>\n<li>\n<p>코드 규칙에 대한 추가사항을 정의했습니다.</p>\n<ol>\n<li>프로젝트 세팅과 동시에 pre-commit hook을 두어 일관된 규칙을 통해 코드를 작성하도록 했습니다.</li>\n<li>하나의 커밋에는 하나의 작업단위만을 커밋하고, 커밋 컨벤션에 의거하여 작업내용을 기록하였습니다.</li>\n</ol>\n</li>\n<li>\n<p>서비스 레이어에서 커맨드와 쿼리를 별도로 분리해두었습니다.</p>\n<ol>\n<li>커맨드보다는 쿼리가 훨씬 더 빈번하게 일어나는 작업이므로, 이를 처리하는 역할을 분리하도록 생각했습니다.</li>\n<li>커맨드는 atomic한 작업을 반드시 수반해야 하므로, 코드의 관심사를 분리해야 추후 유지보수가 쉬운 코드가 될 것이라는 생각이 들었습니다.</li>\n</ol>\n</li>\n<li>\n<p>필요에 따른 분기별 로직 처리를 <a href=\"https://refactoring.guru/design-patterns/strategy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">STRATEGY 패턴</a>으로 풀어보았습니다.</p>\n<ol>\n<li>조건에 따라 수행하는 알고리즘이 계속해서 증가할 것으로 판단하였습니다.</li>\n<li>알고리즘이 추가/삭제됨과 상관 없이, 객체가 “필요한 값을 요청한다” 만 호출해도 원하는 결과를 얻어올 수 있는 이점을 얻었습니다.</li>\n</ol>\n</li>\n</ol>\n<h1 id=\"구체적인-스펙-결정을-통한-완성\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%B2%B4%EC%A0%81%EC%9D%B8-%EC%8A%A4%ED%8E%99-%EA%B2%B0%EC%A0%95%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%99%84%EC%84%B1\" aria-label=\"구체적인 스펙 결정을 통한 완성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구체적인 스펙 결정을 통한 완성</h1>\n<ol>\n<li>\n<p>인프라스트럭처 레이어에 쓰이는 기술들은 아래와 같이 선택했습니다.</p>\n<ol>\n<li>영속적 데이터 저장에는 <code class=\"language-text\">PostgreSQL</code>을, 인메모리 DB에는 <code class=\"language-text\">Redis</code>를 사용하였습니다(Redis는 시간상의 문제로 구현까지는 생각하지 못하였습니다).</li>\n<li>특정 도메인 메시지를 주고받을 때 사용할 이벤트 전달용 메시지 큐로는, 익숙하게 사용하던 <code class=\"language-text\">Kafka</code> 혹은 레퍼런스가 많은 <code class=\"language-text\">RabbitMQ</code> 를 생각하였습니다(이 또한 제한 시간 내에는 구현하지 못했네요).</li>\n</ol>\n</li>\n<li>\n<p>표현 레이어에 사용할 웹 프레임워크는 FastAPI를 사용하였습니다.</p>\n<ol>\n<li>토이프로젝트처럼 간단히 접근할 것이 아니라, 수많은 요청에도 부담없이 사용될 수 있도록 하기 위하여 기존에 프로덕션 레벨에서 사용해본 경험을 이용하였습니다.</li>\n<li><code class=\"language-text\">Gunicorn</code> 매니저 프로세스와 <code class=\"language-text\">uvicorn</code> 프로세스들을 경우에 맞게 확장하여 Throughput을 확장하도록 구성했습니다.</li>\n<li>비동기 처리를 할 수 있도록 라이브러리부터 프레임워크까지 쉽게 대비할 수 있는 프레임워크를 선택하였습니다.</li>\n<li>작은 서비스를 여럿을 만들고 서로 통신하도록 하여, 표현계층도 다른 표현계층과 서로 메시지를 주고받을 수 있도록 설계하였습니다.</li>\n</ol>\n</li>\n</ol>\n<p>이후, 최종적으로 아래와 같은 디렉토리 구조를 구상하였습니다: <sup id=\"fnref-5\"><a href=\"#fn-5\" class=\"footnote-ref\">5</a></sup></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.\n├── api\n│   └── endpoints\n├── config\n├── modules\n│   ├── DOMAIN01\n│   │   ├── application\n│   │   ├── domain\n│   │   └── infrastructure\n│   │   │   └── postgres\n│   │   │       └── models\n│   ├── DOMAIN02\n│   │   ├── application\n│   │   ├── domain\n│   │   │   └── OBJECT01          # [5]\n│   │   │       └── helpers\n│   │   └── infrastructure\n│   │       └── postgres\n│   │           ├── models\n│   │           └── repositories\n│   └── DOMAIN03\n│   │   ├── application\n│   │   ├── domain\n│   │   └── infrastructure\n│   │       └── postgres\n│   │           ├── models\n│   │           └── repositories\n│   └── common\n└── tests\n│   └── ...(아래에 테스트코드 구조를 그대로)\n└── utils\n</code></pre></div>\n<h1 id=\"설계-및-개발에-사용된-도구들\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B0%9C%EB%B0%9C%EC%97%90-%EC%82%AC%EC%9A%A9%EB%90%9C-%EB%8F%84%EA%B5%AC%EB%93%A4\" aria-label=\"설계 및 개발에 사용된 도구들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설계 및 개발에 사용된 도구들</h1>\n<h2 id=\"mermaidjs를-통한-도식-표현\" style=\"position:relative;\"><a href=\"#mermaidjs%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%8F%84%EC%8B%9D-%ED%91%9C%ED%98%84\" aria-label=\"mermaidjs를 통한 도식 표현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">mermaid.js</code>를 통한 도식 표현</h2>\n<p>간단한 도식을 표현하는데는 <a href=\"https://mermaid.js.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">mermaid.js</a> 만한 도구가 없지요. 복잡해진다면 복잡해질 수록 전문 툴을 사용하는 것이 맞으나, 간단히 처리하는 데는 이만한 녀석이 없습니다.</p>\n<h2 id=\"jetbrains의-http-client\" style=\"position:relative;\"><a href=\"#jetbrains%EC%9D%98-http-client\" aria-label=\"jetbrains의 http client permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JetBrains의 <code class=\"language-text\">HTTP Client</code></h2>\n<p>마침 이런 도구를 최근에 학습하였고, 빠르게 IDE 내에서 바로 사용할 수 있다는 장점을 십분 활용하였습니다.</p>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/pycharm/http-client-in-product-code-editor.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">참고 링크 #1</a></li>\n<li><a href=\"https://www.jetbrains.com/help/pycharm/exploring-http-syntax.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">참고 링크 #2</a></li>\n</ul>\n<h2 id=\"er-diagram엔\" style=\"position:relative;\"><a href=\"#er-diagram%EC%97%94\" aria-label=\"er diagram엔 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ER diagram엔?</h2>\n<p><a href=\"https://www.erdcloud.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ERD Cloud</a> 라는 도구가 쓰기 정말 쉽고 좋았습니다.</p>\n<h1 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h1>\n<p>이번 테스트를 통해 아래 사항을 얻을 수 있었습니다.</p>\n<ol>\n<li>객체지향적 패러다임을 논리적으로 꽃피울 수 있는 DDD의 개념의 기초를 배웠습니다.</li>\n<li>도메인 별로 어떻게 객체를 끌어내고, 이를 통해 어떻게 메시지를 주고받으며 어떤 방식으로 서로 상호작용하는지 확실히 알게 되었습니다.</li>\n<li>이를 실현하는 방법인 클린 아키텍처, 헥사고널 아키텍처의 기초적인 부분을 배우고 구현하였습니다. 또, 기술을 필요에 따라 선택하는 이유를 확실히 알게 되었습니다.</li>\n<li>테스트 피라미드를 두어, 주요 레이어 별 테스팅이 어떻게 되면 좋을지 구상하였습니다.</li>\n<li><code class=\"language-text\">mermaid.js</code> 및 JetBrians의 기본 도구와 ER Diagram 설계 도구를 익혔습니다.</li>\n</ol>\n<p>다음 2부에서는, 왜 떨어졌을지에 대해 스스로 반추하는 게시글로 찾아뵙겠습니다.</p>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\">이를 학습하기 전, 이 전에 읽었던 객체지향의 사실과 오해의 내용이 정말 도움되었습니다(<a href=\"https://www.youtube.com/watch?v=26S4VFUWlJM&#x26;t=3434s\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">이 영상</a>은 그 일부를 올린 것이니 보시면 매우 좋습니다). 저는 <a href=\"https://search.shopping.naver.com/book/catalog/32436316743?NaPm=ct%3Dlebllqq0%7Cci%3D69c2124ba02d2115182c8d68fe4f85205a3ace74%7Ctr%3Dboksl1%7Csn%3D95694%7Chk%3D0425ef7e53fce8d8c45d6816648c48f8ec5cb238\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">도메인 주도 개발 시작하기: DDD 핵심 개념 정리부터 구현까지</a> 와 <a href=\"https://play.google.com/store/books/details/%ED%8C%8C%EC%9D%B4%EC%8D%AC%EC%9C%BC%EB%A1%9C*%EC%82%B4%ED%8E%B4%EB%B3%B4%EB%8A%94*%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98*%ED%8C%A8%ED%84%B4_TDD_DDD_EDM*%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0?id=PeUxEAAAQBAJ&#x26;hl=ko&#x26;gl=US&#x26;pli=1\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">파이썬으로 살펴보는 아키텍처 패턴: TDD, DDD, EDM 적용하기</a> 를 상당부분 참고하였습니다.<a href=\"#fnref-1\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-2\">DDD에 대한 전반적인 이해에 아래 글들이 상당히 도움되었습니다.<br ><a href=\"https://happycloud-lee.tistory.com/94\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">DDD 핵심만 빠르게 이해하기</a><br ><a href=\"https://incheol-jung.gitbook.io/docs/q-and-a/architecture/ddd\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Domain Driven Design</a> <br >상기 글들을 보고 <a href=\"https://tech.kakao.com/2022/12/12/ddd-of-recommender-team/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">이 글을</a> 함께 보신다면 보다 빠르게 이해하실 수 있으시리라 믿습니다.<a href=\"#fnref-2\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-3\">Hexagonal Architecture는 이 글들을 참고하시면 상당히 도움되시리라 믿습니다. <br ><a href=\"https://dataportal.kr/74#DDD%EC%25--%25--%25--%EA%25B-%25-D%EC%25B-%25B-%EC%25A-%25--%ED%25--%25A-\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Why DDD, Clean Architecture and Hexagonal?</a><br ><a href=\"https://engineering.linecorp.com/ko/blog/port-and-adapter-architecture/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">지속 가능한 소프트웨어 설계 패턴: 포트와 어댑터 아키텍처 적용하기</a><br ><a href=\"https://blog.imqa.io/hexagonal-architecture/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">헥사고날 아키텍쳐(Hexagonal Architecture)</a><br ><a href=\"https://mesh.dev/20210910-dev-notes-007-hexagonal-architecture/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">헥사고날(Hexagonal) 아키텍처 in 메쉬코리아</a><a href=\"#fnref-3\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-4\">늦게 회고하자면, <a href=\"https://www.youtube.com/watch?v=F7EnW8dfetU\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">이 영상</a> 을 함께 보았다면 더 좋았을 것입니다. 이벤트 스토밍을 통해 도메인 간의 유기적인 정보교환 뿐 아니라, 실제 업무를 수행하면서 나올 법한 행위를 수행할 수 있었음을 보여줄 수 있었을 것입니다.<a href=\"#fnref-4\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-5\">이 부분은 정확히 어떻게 설계할지 몰라서 다른 서비스들을 최대한 참고하였습니다. 도메인 객체가 이렇게 비대해지는 것을 어떻게 제어해야할지도 학습해야겠습니다.<a href=\"#fnref-5\" class=\"footnote-backref\">↩</a></li>\n</ol>\n</div>","fields":{"slug":"/retrospect/2023-02-20---assignment-pt01//retrospect/2023-02-20-assignment-pt01","tagSlugs":["/tag/devlog/","/tag/python/","/tag/architecture/"]},"frontmatter":{"date":"2023-02-20T16:38:00.000Z","description":"2월에 수행한 과제형 코딩 테스트에 대해 리뷰하는 글입니다. 이 글에서는 어떤 사항을 몸으로 익혔고, 무엇을 느꼈는지 주로 작성하였습니다.","tags":["devlog","python","architecture"],"title":"2023년 과제형 코딩 테스트 후기 (1)","socialImage":{"publicURL":{"publicURL":"/static/8a6ecc671323d466db1a40007cbe3e72/under_construction.jpg"}}}}},"pageContext":{"slug":"/retrospect/2023-02-20---assignment-pt01//retrospect/2023-02-20-assignment-pt01"}},"staticQueryHashes":["251939775","357378587","401334301"]}